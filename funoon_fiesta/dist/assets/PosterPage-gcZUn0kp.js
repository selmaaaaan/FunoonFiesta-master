import{j as e,m as t}from"./animations-Dikhhyjx.js";import{g as s,a,e as r}from"./vendor-DOVO1ENQ.js";import{c as l,_ as n,u as i}from"./index-D4oL67WN.js";import{S as o}from"./star-BD0UmP79.js";import{M as c}from"./medal-CEMxYTaB.js";import{T as d}from"./trophy-CLV8fI4f.js";
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=l("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var x,g,p={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/const u=s((x||(x=1,g=p,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,s(r)))}return e}function s(s){if("string"==typeof s||"number"==typeof s)return s;if("object"!=typeof s)return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var r="";for(var l in s)e.call(s,l)&&s[l]&&(r=a(r,l));return r}function a(e,t){return t?e?e+" "+t:e+t:e}g.exports?(t.default=t,g.exports=t):window.classNames=t}()),p.exports)),h=({programCategory:t="",programName:s="",stage:r="ON STAGE",records:l=[],defaultBackground:i="",backgroundImage:d=""})=>{const[x,g]=a.useState(!1),p=a.useRef(null),h={1:"#FFD700",2:"#C0C0C0",3:"#CD7F32"};return e.jsxs("div",{className:"w-full max-w-[320px] sm:max-w-[400px] lg:max-w-[500px] mx-auto",children:[e.jsxs("div",{id:"poster-content",ref:p,className:"relative w-full aspect-square overflow-hidden shadow-2xl",style:{backgroundImage:d?`url(${d})`:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/35"}),e.jsx("div",{className:u("absolute inset-0",{"bg-[linear-gradient(45deg,#2e1065,transparent)]":"OFF STAGE"===r,"bg-[linear-gradient(45deg,#78350f,transparent)]":"ON STAGE"===r})}),e.jsxs("div",{className:"relative z-10 w-full h-full p-4 sm:p-6 md:p-8 flex flex-col",children:[e.jsxs("div",{className:"text-center ",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(o,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400"}),e.jsx("h2",{className:"text-xs sm:text-sm text-yellow-400 font-medium",children:t}),e.jsx(o,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400"})]})]}),e.jsx("div",{className:"flex-grow flex flex-col justify-center space-y-2 sm:space-y-3",children:Object.entries((e=>{const t={};return e.forEach((e=>{const s=e.fields.Place;t[s]||(t[s]=[]),t[s].push(e)})),t})(l)).map((([t,s])=>s.map(((s,a)=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4",children:[e.jsx("div",{className:"p-1.5 sm:p-2 rounded-md sm:rounded-xl bg-secondery/30",children:e.jsx(c,{className:"w-3 h-3 sm:w-6 sm:h-6",style:{color:h[parseInt(t)]}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-xs sm:text-sm lg:text-base font-bold text-white truncate",children:s.fields.Name}),e.jsx("p",{className:"text-xs text-red-400 truncate",children:s.fields.Team})]})]},`${t}-${a}`)))))})]})]}),e.jsxs("button",{onClick:async()=>{if(p.current&&!x)try{g(!0);const{default:e}=await n((async()=>{const{default:e}=await import("./html2canvas.esm-D9496bDv.js");return{default:e}}),[]),t=p.current.cloneNode(!0);t.style.width="400px",t.style.height="400px",t.style.left="-9999px",document.body.appendChild(t);const a=await e(t,{width:400,height:400,scale:2,useCORS:!0,backgroundColor:null});document.body.removeChild(t);const r=a.toDataURL("image/png",1),l=document.createElement("a");l.download=`${s.toLowerCase().replace(/\s+/g,"-")}-winners.png`,l.href=r,l.click()}catch(e){}finally{g(!1)}},disabled:x,className:"mt-3 sm:mt-4 w-full bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl py-2 sm:py-3 px-4 flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(m,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:x?"Generating...":"Download Poster"})]})]})},f="/assets/1-D6P_zuH3.jpeg",y="/assets/2-DIZ-9Qvu.jpeg",w="programWinners",j="programData",N=()=>{const{programName:s}=r(),{results:l}=i(),[n,o]=a.useState([]),[c,m]=a.useState({category:"",stage:"ON STAGE"}),x=[f,y,"/assets/3-Bp0y1H0j.jpeg"],g=e=>{switch(e){case 0:return"🥇";case 1:return"🥈";case 2:return"🥉";default:return"🏅"}},p={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",duration:.5,bounce:.3}}},u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}};return a.useEffect((()=>{(()=>{try{const e=localStorage.getItem(`${w}_${s}`),t=localStorage.getItem(`${j}_${s}`);e&&o(JSON.parse(e)),t&&m(JSON.parse(t))}catch(e){}})()}),[s]),a.useEffect((()=>{if(l.length>0&&s){const t=l.filter((e=>e.programName.toUpperCase()===s.toUpperCase())),a=t[0],r=t.sort(((e,t)=>{const s={FIRST:1,SECOND:2,THIRD:3};return s[e.prize]-s[t.prize]})).filter((e=>e.prize)).slice(0,3).map(((e,t)=>({fields:{Place:(t+1).toString(),Name:e.studentName||"---",Team:e.teamName||"Individual"}})));for(;r.length<3;)r.push({fields:{Place:(r.length+1).toString(),Name:"---",Team:"---"}});const n={category:(null==a?void 0:a.category)||"",stage:(null==a?void 0:a.stage)||"ON STAGE"};o(r),m(n);try{localStorage.setItem(`${w}_${s}`,JSON.stringify(r)),localStorage.setItem(`${j}_${s}`,JSON.stringify(n))}catch(e){}}}),[l,s]),e.jsx("div",{className:"min-h-screen p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(t.div,{variants:u,initial:"hidden",animate:"show",className:"text-center mb-12",children:[e.jsxs(t.div,{variants:p,className:"inline-flex items-center justify-center gap-2 mb-4",children:[e.jsx(d,{className:"w-8 h-8 text-yellow-500"}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:[s," Winners"]}),e.jsx(d,{className:"w-8 h-8 text-yellow-500"})]}),e.jsxs(t.p,{variants:p,className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:["Celebrating excellence and outstanding achievements in ",s]})]}),e.jsx(t.div,{variants:u,initial:"hidden",animate:"show",className:"w-full max-w-5xl mx-auto mb-16",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400/20 via-amber-500/20 to-yellow-400/20 rounded-2xl p-8",children:e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:n.map(((s,a)=>e.jsxs(t.div,{variants:p,whileHover:{scale:1.05,transition:{type:"spring",stiffness:300,damping:15}},className:"flex items-center gap-4 bg-white/40 dark:bg-white/10 backdrop-blur-sm rounded-xl p-4 w-full md:w-auto",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-4xl",children:g(a)})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-gray-900 dark:text-white font-bold text-lg",children:s.fields.Name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s.fields.Team})]})]},a)))})})}),e.jsx(t.div,{variants:u,initial:"hidden",animate:"show",className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8 w-full",children:x.map(((a,r)=>e.jsx(t.div,{variants:p,whileHover:{scale:1.02,transition:{type:"spring",stiffness:300,damping:15}},className:"flex justify-center",children:e.jsx(h,{programName:s,programCategory:c.category,stage:c.stage,records:n,defaultBackground:"OFF STAGE"===c.stage?y:f,backgroundImage:a})},r)))})]})})};export{N as default};
